From de0c0b8324e776f0b851485e0fc9622fc35695b7 Mon Sep 17 00:00:00 2001
From: Albert Astals Cid <aacid@kde.org>
Date: Sat, 29 Dec 2018 01:25:17 +0100
Subject: [PATCH] FileSpec: Move the fileSpec.dictLookup call inside
 fileSpec.isDict if

Fixes #704
---
 poppler/FileSpec.cc | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

Index: poppler-0.26.5/poppler/FileSpec.cc
===================================================================
--- poppler-0.26.5.orig/poppler/FileSpec.cc	2019-09-26 14:21:30.445642508 +0200
+++ poppler-0.26.5/poppler/FileSpec.cc	2019-09-26 14:35:04.033668512 +0200
@@ -137,11 +137,11 @@
       }
     }
     obj1.free();
-  }
 
-  if (fileSpec.dictLookup("Desc", &obj1)->isString())
-    desc = obj1.getString()->copy();
-  obj1.free();
+    if (fileSpec.dictLookup("Desc", &obj1)->isString())
+      desc = obj1.getString()->copy();
+    obj1.free();
+  }
 }
 
 FileSpec::~FileSpec()
