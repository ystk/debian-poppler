From 80f9819b6233f9f9b5fd44f0e4cad026e5d048c2 Mon Sep 17 00:00:00 2001
From: Albert Astals Cid <aacid@kde.org>
Date: Wed, 13 Sep 2017 23:09:45 +0200
Subject: isImageInterpolationRequired: Fix divide by 0 on broken documents

Bug #102688

Index: poppler-0.26.5/splash/Splash.cc
===================================================================
--- poppler-0.26.5.orig/splash/Splash.cc
+++ poppler-0.26.5/splash/Splash.cc
@@ -4092,7 +4092,7 @@ SplashError Splash::arbitraryTransformIm
 static GBool isImageInterpolationRequired(int srcWidth, int srcHeight,
                                           int scaledWidth, int scaledHeight,
                                           GBool interpolate) {
-  if (interpolate)
+  if (interpolate || srcWidth == 0 || srcHeight == 0)
     return gTrue;
 
   /* When scale factor is >= 400% we don't interpolate. See bugs #25268, #9860 */
